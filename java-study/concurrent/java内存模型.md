
- 深入理解Java内存模型（一）——基础
  <http://www.infoq.com/cn/articles/java-memory-model-1>
- 原子性
  int 赋值操作是原子性的，但是i++ 不是，long的赋值也不是。long是64位，int是32位
- 可见性
  指当一个线程修改有了一个共享变量，其他线程是否能立即知道这个修改。
  缓存cache的寄存器中，由于cpu的优化
- 有序性
  如果没有指令重拍的话，或者单线程的话，那么不会存在这样的问题。
  但是为了性能的考虑一条指令的执行可以被分为以下五个步骤
  - 取址IF
  - 译码和寄存器操作数ID
  - 执行或者有效地址计算EX
  - 存储器返回MEM
  - 写会WB
 那些指令不能重排 Happen-Before
 - 程序顺序原则，一个线程中保证语义的串行性
 - volatile volatile变量的写发生在读，这保证了volatile的可见性
 - 锁 解锁一定发生在随后的加锁前
 - 线程的start方法优于它的每一个动作
 - 线程的所有操作优于线程的终结，也就是join的时候必须等该线程执行完毕
 - 线程的中断优先于线程中的执行代码
 - 对象的构造函数优先于fialize()方法。
